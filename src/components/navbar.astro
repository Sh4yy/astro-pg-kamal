---

const result = await Astro.locals.auth.validate();
function getInitials(email: string): string {
  return email.split('@')[0].slice(0, 2).toUpperCase();
}

---

<nav class="bg-gray-800 p-2">
  <div class="container mx-auto flex justify-between items-center h-10">
    <div class="text-white font-bold">
      <a href="/">Astro</a>
    </div>
    <div class="flex items-center space-x-4">
      {result.isOk() ? (
        <>
          <span class="text-white text-sm">{getInitials(result.value.user.email)}</span>
          <a href="/logout" class="text-white hover:text-gray-300 text-sm">Logout</a>
        </>
      ) : (
        <>
          <a href="/signin" class="text-white hover:text-gray-300 text-sm">Sign In</a>
          <a href="/signup" class="text-white hover:text-gray-300 text-sm">Sign Up</a>
        </>
      )}
    </div>
  </div>
</nav>
